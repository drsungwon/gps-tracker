{
  "_from": "@mauron85/cordova-plugin-background-geolocation@3.0.3",
  "_id": "@mauron85/cordova-plugin-background-geolocation@3.0.3",
  "_inBundle": false,
  "_integrity": "sha512-Y5P8Z4ldM9Xa02qOqGvaLWKaryx5vp3J4RYgQmmiTb+EM/naNL5ljQyJYRx7VJbSZdNIFua7I/vG+b7oeu/DRw==",
  "_location": "/@mauron85/cordova-plugin-background-geolocation",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "@mauron85%2fcordova-plugin-background-geolocation",
    "fetchSpec": "3.0.3",
    "name": "@mauron85/cordova-plugin-background-geolocation",
    "raw": "@mauron85/cordova-plugin-background-geolocation@3.0.3",
    "rawSpec": "3.0.3",
    "registry": true,
    "saveSpec": null,
    "scope": "@mauron85",
    "type": "version"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/@mauron85/cordova-plugin-background-geolocation/-/cordova-plugin-background-geolocation-3.0.3.tgz",
  "_shasum": "f97d62261bf21084ce916c7951819da883166dbb",
  "_spec": "@mauron85/cordova-plugin-background-geolocation@3.0.3",
  "_where": "/Users/drsungwon/github/gps-tracker",
  "author": "",
  "bugs": {
    "url": "https://github.com/mauron85/cordova-plugin-background-geolocation/issues"
  },
  "bundleDependencies": false,
  "cordova": {
    "id": "cordova-plugin-mauron85-background-geolocation",
    "platforms": [
      "android",
      "ios"
    ]
  },
  "dependencies": {},
  "deprecated": false,
  "description": "Cordova Background Geolocation Plugin",
  "devDependencies": {},
  "engines": {
    "cordovaDependencies": {
      "0.0.1": {
        "cordova": ">=3.0.0"
      },
      "2.3.3": {
        "cordova": ">=7.1.0",
        "cordova-android": ">=6.3.0",
        "cordova-ios": ">=4.4.0"
      }
    }
  },
  "homepage": "https://github.com/mauron85/cordova-plugin-background-geolocation#readme",
  "keywords": [
    "gps",
    "location",
    "geolocation",
    "background",
    "ecosystem:cordova",
    "cordova-android",
    "cordova-ios",
    "cordova",
    "phonegap"
  ],
  "license": "Apache-2.0",
  "main": "./www/BackgroundGeolocation.js",
  "name": "@mauron85/cordova-plugin-background-geolocation",
  "optionalDependencies": {},
  "readme": "# @mauron85/cordova-plugin-background-geolocation\n\n## We're moving\n\nNpm package is now [@mauron85/cordova-plugin-background-geolocation](https://www.npmjs.com/package/@mauron85/cordova-plugin-background-geolocation)!\n\n\n## Donation\n\nPlease support my work and continued development with your donation.\n\n[![Donate](https://img.shields.io/badge/Donate-PayPal-green.svg)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KTUXQQD85F666)\n\n## Submitting issues\n\nAll new issues should follow instructions in [ISSUE_TEMPLATE.md](/ISSUE_TEMPLATE.md).\nA properly filled issue report will significantly reduce number of follow up questions and decrease issue resolving time.\nMost issues cannot be resolved without debug logs. Please try to isolate debug lines related to your issue.\nInstructions for how to prepare debug logs can be found in section [Debugging](#debugging).\nIf you're reporting an app crash, debug logs might not contain all the necessary information about the cause of the crash.\nIn that case, also provide relevant parts of output of `adb logcat` command.\n\n# Android background service issues\nThere are repeatedly reported issues with some android devices not working in the background. Check if your device model is on  [dontkillmyapp list](https://dontkillmyapp.com) before you report new issue. For more information check out [dontkillmyapp.com](https://dontkillmyapp.com/problem).\n\n## Description\n\nCross-platform geolocation for Cordova / PhoneGap with battery-saving \"circular region monitoring\" and \"stop detection\".\n\nThis plugin can be used for geolocation when the app is running in the foreground or background. It is more battery and data efficient than html5 geolocation or cordova-geolocation plugin. It can be used side by side with other geolocation providers (eg. html5 navigator.geolocation).\n\nYou can choose from two location location providers:\n* **DISTANCE_FILTER_PROVIDER**\n* **ACTIVITY_PROVIDER**\n* **RAW_PROVIDER**\n\nSee [Which provider should I use?](/PROVIDERS.md) for more information about providers.\n\n## Example Application\n\nCheckout repository [cordova-plugin-background-geolocation-example](https://github.com/mauron85/cordova-plugin-background-geolocation-example).\n\n## Migrations\n\nSee [MIGRATIONS.md](/MIGRATIONS.md)\n\n## Installing the plugin\n\n```\ncordova plugin add @mauron85/cordova-plugin-background-geolocation\n```\n\nYou may also want to change default iOS permission prompts and set specific google play version and android support library version for compatibility with other plugins.\n\n**Note:** Always consult documentation of other plugins to figure out compatible versions.\n\n```\ncordova plugin add @mauron85/cordova-plugin-background-geolocation \\\n  --variable GOOGLE_PLAY_SERVICES_VERSION=11+ \\\n  --variable ANDROID_SUPPORT_LIBRARY_VERSION=23+ \\\n  --variable ALWAYS_USAGE_DESCRIPTION=\"App requires ...\" \\\n  --variable MOTION_USAGE_DESCRIPTION=\"App requires motion detection\"\n```\n\nOr in `config.xml`:\n\n```\n<plugin name=\"@mauron85/cordova-plugin-background-geolocation\">\n  <variable name=\"GOOGLE_PLAY_SERVICES_VERSION\" value=\"11+\" />\n  <variable name=\"ANDROID_SUPPORT_LIBRARY_VERSION\" value=\"23+\" />\n  <variable name=\"ALWAYS_USAGE_DESCRIPTION\" value=\"App requires background tracking enabled\" />\n  <variable name=\"MOTION_USAGE_DESCRIPTION\" value=\"App requires motion detection\" />\n</plugin>\n```\n\n**Note:** To apply changes, you must remove and reinstall plugin.\n\n\n## Registering plugin for Adobe® PhoneGap™ Build\n\nThis plugin should work with Adobe® PhoneGap™ Build without any modification.\nTo register plugin add following line into your `config.xml`:\n\n```\n<plugin name=\"@mauron85/cordova-plugin-background-geolocation\"/>\n```\n\n**Note:** If you're using *hydration*, you have to download and reinstall your app with every new version of the plugin, as plugins are not updated.\n\n## Compilation\n\n### Compatibility\n\n| Plugin version   | Cordova CLI       | Cordova Platform Android | Cordova Platform iOS |\n|------------------|-------------------|--------------------------|----------------------|\n| <2.3.0           | 6.4.0             | 6.3.0                    | 4.4.0                |\n| >=2.3.0          | 7.1.0             | 6.3.0                    | 4.4.0                |\n\n**Please note** that as of Cordova Android 6.0.0 icons are by default in mipmap/ directory not drawable/ directory, so this plugin will have a build issue on < 6.0.0 Cordova builds, you will need to update Authenticator.xml to drawable directory from mipmap directory to work on older versions.\n\n### Android\nYou will need to ensure that you have installed the following items through the Android SDK Manager:\n\n| Name                       | Version |\n|----------------------------|---------|\n| Android SDK Tools          | 26.0.2  |\n| Android SDK Platform-tools | 26.0.2  |\n| Android SDK Build-tools    | 26.0.2  |\n| Android Support Repository | 47      |\n| Android Support Library    | 26.1.0  |\n| Google Play Services       | 11.8.0  |\n| Google Repository          | 58      |\n\nAndroid is no longer supporting downloading support libraries through the SDK Manager.\nThe support libraries are now available through Google's Maven repository.\n\n## Example\n\n```javascript\nfunction onDeviceReady() {\n  BackgroundGeolocation.configure({\n    locationProvider: BackgroundGeolocation.ACTIVITY_PROVIDER,\n    desiredAccuracy: BackgroundGeolocation.HIGH_ACCURACY,\n    stationaryRadius: 50,\n    distanceFilter: 50,\n    notificationTitle: 'Background tracking',\n    notificationText: 'enabled',\n    debug: true,\n    interval: 10000,\n    fastestInterval: 5000,\n    activitiesInterval: 10000,\n    url: 'http://192.168.81.15:3000/location',\n    httpHeaders: {\n      'X-FOO': 'bar'\n    },\n    // customize post properties\n    postTemplate: {\n      lat: '@latitude',\n      lon: '@longitude',\n      foo: 'bar' // you can also add your own properties\n    }\n  });\n\n  BackgroundGeolocation.on('location', function(location) {\n    // handle your locations here\n    // to perform long running operation on iOS\n    // you need to create background task\n    BackgroundGeolocation.startTask(function(taskKey) {\n      // execute long running task\n      // eg. ajax post location\n      // IMPORTANT: task has to be ended by endTask\n      BackgroundGeolocation.endTask(taskKey);\n    });\n  });\n\n  BackgroundGeolocation.on('stationary', function(stationaryLocation) {\n    // handle stationary locations here\n  });\n\n  BackgroundGeolocation.on('error', function(error) {\n    console.log('[ERROR] BackgroundGeolocation error:', error.code, error.message);\n  });\n\n  BackgroundGeolocation.on('start', function() {\n    console.log('[INFO] BackgroundGeolocation service has been started');\n  });\n\n  BackgroundGeolocation.on('stop', function() {\n    console.log('[INFO] BackgroundGeolocation service has been stopped');\n  });\n\n  BackgroundGeolocation.on('authorization', function(status) {\n    console.log('[INFO] BackgroundGeolocation authorization status: ' + status);\n    if (status !== BackgroundGeolocation.AUTHORIZED) {\n      // we need to set delay or otherwise alert may not be shown\n      setTimeout(function() {\n        var showSettings = confirm('App requires location tracking permission. Would you like to open app settings?');\n        if (showSetting) {\n          return BackgroundGeolocation.showAppSettings();\n        }\n      }, 1000);\n    }\n  });\n\n  BackgroundGeolocation.on('background', function() {\n    console.log('[INFO] App is in background');\n    // you can also reconfigure service (changes will be applied immediately)\n    BackgroundGeolocation.configure({ debug: true });\n  });\n\n  BackgroundGeolocation.on('foreground', function() {\n    console.log('[INFO] App is in foreground');\n    BackgroundGeolocation.configure({ debug: false });\n  });\n\n  BackgroundGeolocation.on('abort_requested', function() {\n    console.log('[INFO] Server responded with 285 Updates Not Required');\n\n    // Here we can decide whether we want stop the updates or not.\n    // If you've configured the server to return 285, then it means the server does not require further update.\n    // So the normal thing to do here would be to `BackgroundGeolocation.stop()`.\n    // But you might be counting on it to receive location updates in the UI, so you could just reconfigure and set `url` to null.\n  });\n\n  BackgroundGeolocation.on('http_authorization', () => {\n    console.log('[INFO] App needs to authorize the http requests');\n  });\n\n  BackgroundGeolocation.checkStatus(function(status) {\n    console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n    console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n    console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n    // you don't need to check status before start (this is just the example)\n    if (!status.isRunning) {\n      BackgroundGeolocation.start(); //triggers start on start event\n    }\n  });\n\n  // you can also just start without checking for status\n  // BackgroundGeolocation.start();\n\n  // Don't forget to remove listeners at some point!\n  // BackgroundGeolocation.removeAllListeners();\n}\n\ndocument.addEventListener('deviceready', onDeviceReady, false);\n```\n\n## API\n\n### configure(options, success, fail)\n\nConfigure options:\n\n| Parameter                 | Type              | Platform     | Description                                                                                                                                                                                                                                                                                                                                        | Provider*   | Default                    | \n|---------------------------|-------------------|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|----------------------------|\n| `locationProvider`        | `Number`          | all          | Set location provider **@see** [PROVIDERS](/PROVIDERS.md)                                                                                                                                                                                                                                                                                          | N/A         | DISTANCE\\_FILTER\\_PROVIDER | \n| `desiredAccuracy`         | `Number`          | all          | Desired accuracy in meters. Possible values [HIGH_ACCURACY, MEDIUM_ACCURACY, LOW_ACCURACY, PASSIVE_ACCURACY]. Accuracy has direct effect on power drain. Lower accuracy = lower power drain.                                                                                                                                                       | all         | MEDIUM\\_ACCURACY           | \n| `stationaryRadius`        | `Number`          | all          | Stationary radius in meters. When stopped, the minimum distance the device must move beyond the stationary location for aggressive background-tracking to engage.                                                                                                                                                                                  | DIS         | 50                         | \n| `debug`                   | `Boolean`         | all          | When enabled, the plugin will emit sounds for life-cycle events of background-geolocation! See debugging sounds table.                                                                                                                                                                                                                             | all         | false                      | \n| `distanceFilter`          | `Number`          | all          | The minimum distance (measured in meters) a device must move horizontally before an update event is generated. **@see** [Apple docs](https://developer.apple.com/library/ios/documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html#//apple_ref/occ/instp/CLLocationManager/distanceFilter).        | DIS,RAW     | 500                        | \n| `stopOnTerminate`         | `Boolean`         | all          | Enable this in order to force a stop() when the application terminated (e.g. on iOS, double-tap home button, swipe away the app).                                                                                                                                                                                                                  | all         | true                       | \n| `startOnBoot`             | `Boolean`         | Android      | Start background service on device boot.                                                                                                                                                                                                                                                                                                           | all         | false                      | \n| `interval`                | `Number`          | Android      | The minimum time interval between location updates in milliseconds. **@see** [Android docs](http://developer.android.com/reference/android/location/LocationManager.html#requestLocationUpdates(long,%20float,%20android.location.Criteria,%20android.app.PendingIntent)) for more information.                                                    | all         | 60000                      | \n| `fastestInterval`         | `Number`          | Android      | Fastest rate in milliseconds at which your app can handle location updates. **@see** [Android  docs](https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.html#getFastestInterval()).                                                                                                                   | ACT         | 120000                     | \n| `activitiesInterval`      | `Number`          | Android      | Rate in milliseconds at which activity recognition occurs. Larger values will result in fewer activity detections while improving battery life.                                                                                                                                                                                                    | ACT         | 10000                      | \n| `stopOnStillActivity`     | `Boolean`         | Android      | @deprecated stop location updates, when the STILL activity is detected                                                                                                                                                                                                                                                                             | ACT         | true                       | \n| `notificationsEnabled`    | `Boolean`         | Android      | Enable/disable local notifications when tracking and syncing locations                                                                                                                                                                                                                                                                             | all         | true                       |\n| `startForeground`         | `Boolean`         | Android      | Allow location sync service to run in foreground state. Foreground state also requires a notification to be presented to the user.                                                                                                                                                                                                                 | all         | false                      |\n| `notificationTitle`       | `String` optional | Android      | Custom notification title in the drawer. (goes with `startForeground`)                                                                                                                                                                                                                                                                             | all         | \"Background tracking\"      | \n| `notificationText`        | `String` optional | Android      | Custom notification text in the drawer. (goes with `startForeground`)                                                                                                                                                                                                                                                                              | all         | \"ENABLED\"                  | \n| `notificationIconColor`   | `String` optional | Android      | The accent color to use for notification. Eg. **#4CAF50**. (goes with `startForeground`)                                                                                                                                                                                                                                                           | all         |                            | \n| `notificationIconLarge`   | `String` optional | Android      | The filename of a custom notification icon. **@see** Android quirks. (goes with `startForeground`)                                                                                                                                                                                                                                                 | all         |                            | \n| `notificationIconSmall`   | `String` optional | Android      | The filename of a custom notification icon. **@see** Android quirks. (goes with `startForeground`)                                                                                                                                                                                                                                                 | all         |                            | \n| `activityType`            | `String`          | iOS          | [AutomotiveNavigation, OtherNavigation, Fitness, Other] Presumably, this affects iOS GPS algorithm. **@see** [Apple docs](https://developer.apple.com/library/ios/documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html#//apple_ref/occ/instp/CLLocationManager/activityType) for more information | all         | \"OtherNavigation\"          | \n| `pauseLocationUpdates`    | `Boolean`         | iOS          | Pauses location updates when app is paused. **@see* [Apple docs](https://developer.apple.com/documentation/corelocation/cllocationmanager/1620553-pauseslocationupdatesautomatical?language=objc)                                                                                                                                                  | all         | false                      | \n| `saveBatteryOnBackground` | `Boolean`         | iOS          | Switch to less accurate significant changes and region monitory when in background                                                                                                                                                                                                                                                                 | all         | false                      | \n| `url`                     | `String`          | all          | Server url where to send HTTP POST with recorded locations **@see** [HTTP locations posting](#http-locations-posting)                                                                                                                                                                                                                              | all         |                            | \n| `syncUrl`                 | `String`          | all          | Server url where to send fail to post locations **@see** [HTTP locations posting](#http-locations-posting)                                                                                                                                                                                                                                         | all         |                            | \n| `syncThreshold`           | `Number`          | all          | Specifies how many previously failed locations will be sent to server at once                                                                                                                                                                                                                                                                      | all         | 100                        | \n| `httpHeaders`             | `Object`          | all          | Optional HTTP headers sent along in HTTP request                                                                                                                                                                                                                                                                                                   | all         |                            | \n| `maxLocations`            | `Number`          | all          | Limit maximum number of locations stored into db                                                                                                                                                                                                                                                                                                   | all         | 10000                      | \n| `postTemplate`            | `Object\\|Array`   | all          | Customization post template **@see** [Custom post template](#custom-post-template)                                                                                                                                                                                                                                                                 | all         |                            | \n\n\\*\nDIS = DISTANCE\\_FILTER\\_PROVIDER\nACT = ACTIVITY\\_PROVIDER\nRAW = RAW\\_PROVIDER\n\n\nPartial reconfiguration is possible by later providing a subset of the configuration options:\n\n```\nBackgroundGeolocation.configure({\n  debug: true\n});\n```\n\nIn this case new configuration options will be merged with stored configuration options and changes will be applied immediately.\n\n**Important:** Because configuration options are applied partially, it's not possible to reset option to default value just by emitting it's key name and calling `configure` method. To reset configuration option to the default value, it's key must be set to `null`!\n\n```\n// Example: reset postTemplate to default\nBackgroundGeolocation.configure({\n  postTemplate: null\n});\n```\n\n### getConfig(success, fail)\nPlatform: iOS, Android\n\nGet current configuration. Method will return all configuration options and their values in success callback.\nBecause `configure` method can be called with subset of the configuration options only,\n`getConfig` method can be used to check the actual applied configuration.\n\n```\nBackgroundGeolocation.getConfig(function(config) {\n  console.log(config);\n});\n```\n\n### start()\nPlatform: iOS, Android\n\nStart background geolocation.\n\n### stop()\nPlatform: iOS, Android\n\nStop background geolocation.\n\n### getCurrentLocation(success, fail, options)\nPlatform: iOS, Android\n\nOne time location check to get current location of the device.\n\n| Option parameter           | Type      | Description                                                                            |\n|----------------------------|-----------|----------------------------------------------------------------------------------------|\n| `timeout`                  | `Number`  | Maximum time in milliseconds device will wait for location                             |\n| `maximumAge`               | `Number`  | Maximum age in milliseconds of a possible cached location that is acceptable to return |\n| `enableHighAccuracy`       | `Boolean` | if true and if the device is able to provide a more accurate position, it will do so   |\n\n| Success callback parameter | Type      | Description                                                    |\n|----------------------------|-----------|----------------------------------------------------------------|\n| `location`                 | `Object`  | location object (@see [Location event](#location-event))       |\n\n| Error callback parameter   | Type      | Description                                                    |\n|----------------------------|-----------|----------------------------------------------------------------|\n| `code`                     | `Number`  | Reason of an error occurring when using the geolocating device |\n| `message`                  | `String`  | Message describing the details of the error                    |\n\nError codes:\n\n| Value | Associated constant  | Description                                                              |\n|-------|----------------------|--------------------------------------------------------------------------|\n| 1     | PERMISSION_DENIED    | Request failed due missing permissions                                   |\n| 2     | LOCATION_UNAVAILABLE | Internal source of location returned an internal error                   |\n| 3     | TIMEOUT              | Timeout defined by `option.timeout was exceeded                          |\n\n### isLocationEnabled(success, fail)\nDeprecated: This method is deprecated and will be removed in next major version.\nUse `checkStatus` as replacement.\n\nPlatform: iOS, Android\n\nOne time check for status of location services. In case of error, fail callback will be executed.\n\n| Success callback parameter | Type      | Description                                          |\n|----------------------------|-----------|------------------------------------------------------|\n| `enabled`                  | `Boolean` | true/false (true when location services are enabled) |\n\n### checkStatus(success, fail)\n\nCheck status of the service\n\n| Success callback parameter | Type      | Description                                          |\n|----------------------------|-----------|------------------------------------------------------|\n| `isRunning`                | `Boolean` | true/false (true if service is running)              |\n| `locationServicesEnabled`  | `Boolean` | true/false (true if location services are enabled)   |\n| `authorization`            | `Number`  | authorization status                                 |\n\nAuthorization statuses:\n\n* NOT_AUTHORIZED\n* AUTHORIZED - authorization to run in background and foreground\n* AUTHORIZED_FOREGROUND iOS only authorization to run in foreground only\n\nNote: In the Android concept of authorization, these represent application permissions.\n\n### showAppSettings()\nPlatform: Android >= 6, iOS >= 8.0\n\nShow app settings to allow change of app location permissions.\n\n### showLocationSettings()\nPlatform: Android\n\nShow system settings to allow configuration of current location sources.\n\n### getLocations(success, fail)\nPlatform: iOS, Android\n\nMethod will return all stored locations.\nThis method is useful for initial rendering of user location on a map just after application launch.\n\n| Success callback parameter | Type    | Description                    |\n|----------------------------|---------|--------------------------------|\n| `locations`                | `Array` | collection of stored locations |\n\n```javascript\nBackgroundGeolocation.getLocations(\n  function (locations) {\n    console.log(locations);\n  }\n);\n```\n\n### getValidLocations(success, fail)\nPlatform: iOS, Android\n\nMethod will return locations which have not yet been posted to server.\n\n| Success callback parameter | Type    | Description                    |\n|----------------------------|---------|--------------------------------|\n| `locations`                | `Array` | collection of stored locations |\n\n### deleteLocation(locationId, success, fail)\nPlatform: iOS, Android\n\nDelete location with locationId.\n\n### deleteAllLocations(success, fail)\n\n**Note:** You don't need to delete all locations. The plugin manages the number of stored locations automatically and the total count never exceeds the number as defined by `option.maxLocations`.\n\nPlatform: iOS, Android\n\nDelete all stored locations.\n\n**Note:** Locations are not actually deleted from database to avoid gaps in locationId numbering.\nInstead locations are marked as deleted. Locations marked as deleted will not appear in output of `BackgroundGeolocation.getValidLocations`.\n\n### switchMode(modeId, success, fail)\nPlatform: iOS\n\nNormally the plugin will handle switching between **BACKGROUND** and **FOREGROUND** mode itself.\nCalling switchMode you can override plugin behavior and force it to switch into other mode.\n\nIn **FOREGROUND** mode the plugin uses iOS local manager to receive locations and behavior is affected\nby `option.desiredAccuracy` and `option.distanceFilter`.\n\nIn **BACKGROUND** mode plugin uses significant changes and region monitoring to receive locations\nand uses `option.stationaryRadius` only.\n\n```\n// switch to FOREGROUND mode\nBackgroundGeolocation.switchMode(BackgroundGeolocation.FOREGROUND_MODE);\n\n// switch to BACKGROUND mode\nBackgroundGeolocation.switchMode(BackgroundGeolocation.BACKGROUND_MODE);\n```\n\n### forceSync()\nPlatform: Android, iOS\n\nForce sync of pending locations. Option `syncThreshold` will be ignored and\nall pending locations will be immediately posted to `syncUrl` in single batch.\n\n### getLogEntries(limit, fromId, minLevel, success, fail)\nPlatform: Android, iOS\n\nReturn all logged events. Useful for plugin debugging.\n\n| Parameter  | Type          | Description                                                                                       |\n|------------|---------------|---------------------------------------------------------------------------------------------------|\n| `limit`    | `Number`      | limits number of returned entries                                                                 |\n| `fromId`   | `Number`      | return entries after fromId. Useful if you plan to implement infinite log scrolling*              |\n| `minLevel` | `String`      | return log entries above level. Available levels: [\"TRACE\", \"DEBUG\", \"INFO\", \"WARN\", \"ERROR]      |\n| `success`  | `Function`    | callback function which will be called with log entries                                           |\n\n*[Example of infinite log scrolling](https://github.com/mauron85/react-native-background-geolocation-example/blob/master/src/scenes/Logs.js)\n\nFormat of log entry:\n\n| Parameter   | Type          | Description                                                                                       |\n|-------------|---------------|---------------------------------------------------------------------------------------------------|\n| `id`        | `Number`      | id of log entry as stored in db                                                                   |\n| `timestamp` | `Number`      | timestamp in milliseconds since beginning of UNIX epoch                                           |\n| `level`     | `String`      | log level                                                                                         |\n| `message`   | `String`      | log message                                                                                       |\n| `stackTrace`| `String`      | recorded stacktrace (Android only, on iOS part of message)                                        |\n\n### removeAllListeners(event)\n\nUnregister all event listeners for given event. If parameter `event` is not provided then all event listeners will be removed.\n\n## Events\n\n| Name                | Callback param         | Platform     | Provider*   | Description                                      |\n|---------------------|------------------------|--------------|-------------|--------------------------------------------------|\n| `location`          | `Location`             | all          | all         | on location update                               |\n| `stationary`        | `Location`             | all          | DIS,ACT     | on device entered stationary mode                |\n| `activity`          | `Activity`             | Android      | ACT         | on activity detection                            |\n| `error`             | `{ code, message }`    | all          | all         | on plugin error                                  |\n| `authorization`     | `status`               | all          | all         | on user toggle location service                  |\n| `start`             |                        | all          | all         | geolocation has been started                     |\n| `stop`              |                        | all          | all         | geolocation has been stopped                     |\n| `foreground`        |                        | Android      | all         | app entered foreground state (visible)           |\n| `background`        |                        | Android      | all         | app entered background state                     |\n| `abort_requested`   |                        | all          | all         | server responded with \"285 Updates Not Required\" |\n| `http_authorization`|                        | all          | all         | server responded with \"401 Unauthorized\"         |\n\n### Location event\n| Location parameter     | Type      | Description                                                            |\n|------------------------|-----------|------------------------------------------------------------------------|\n| `id`                   | `Number`  | ID of location as stored in DB (or null)                               |\n| `provider`             | `String`  | gps, network, passive or fused                                         |\n| `locationProvider`     | `Number`  | location provider                                                      |\n| `time`                 | `Number`  | UTC time of this fix, in milliseconds since January 1, 1970.           |\n| `latitude`             | `Number`  | Latitude, in degrees.                                                  |\n| `longitude`            | `Number`  | Longitude, in degrees.                                                 |\n| `accuracy`             | `Number`  | Estimated accuracy of this location, in meters.                        |\n| `speed`                | `Number`  | Speed if it is available, in meters/second over ground.                |\n| `altitude`             | `Number`  | Altitude if available, in meters above the WGS 84 reference ellipsoid. |\n| `bearing`              | `Number`  | Bearing, in degrees.                                                   |\n| `isFromMockProvider`   | `Boolean` | (android only) True if location was recorded by mock provider          |\n| `mockLocationsEnabled` | `Boolean` | (android only) True if device has mock locations enabled               |\n\nLocations parameters `isFromMockProvider` and `mockLocationsEnabled` are not posted to `url` or `syncUrl` by default.\nBoth can be requested via option `postTemplate`.\n\nNote: Do not use location `id` as unique key in your database as ids will be reused when `option.maxLocations` is reached.\n\n### Activity event\n| Activity parameter | Type      | Description                                                            |\n|--------------------|-----------|------------------------------------------------------------------------|\n| `confidence`       | `Number`  | Percentage indicating the likelihood user is performing this activity. |\n| `type`             | `String`  | \"IN_VEHICLE\", \"ON_BICYCLE\", \"ON_FOOT\", \"RUNNING\", \"STILL\",             |\n|                    |           | \"TILTING\", \"UNKNOWN\", \"WALKING\"                                        |\n\n\nEvent listeners can registered with:\n\n```\nconst eventSubscription = BackgroundGeolocation.on('event', callbackFn);\n```\n\nAnd unregistered:\n\n```\neventSubscription.remove();\n```\n\n\n**Note:** Components should unregister all event listeners in `componentWillUnmount` method,\nindividually, or with `removeAllListeners`\n\n## HTTP locations posting\n\nAll locations updates are recorded in the local db at all times. When the App is in foreground or background, in addition to storing location in local db,\nthe location callback function is triggered. The number of locations stored in db is limited by `option.maxLocations` and never exceeds this number.\nInstead, old locations are replaced by new ones.\n\nWhen `option.url` is defined, each location is also immediately posted to url defined by `option.url`.\nIf the post is successful, the location is marked as deleted in local db.\n\nWhen `option.syncUrl` is defined, all locations that fail to post locations will be coalesced and sent in some time later in a one single batch.\nBatch sync takes place only when the number of failed-to-post locations reaches `option.syncTreshold`.\nLocations are sent only in single batch, when the number of locations reaches `option.syncTreshold`. (No individual locations will be sent)\n\nThe request body of posted locations is always an array, even when only one location is sent.\n\nWarning: `option.maxLocations` has to be larger than `option.syncThreshold`. It's recommended to be 2x larger. In any other case the location syncing might not work properly.\n\n## Custom post template\n\nWith `option.postTemplate` it is possible to specify which location properties should be posted to `option.url` or `option.syncUrl`. This can be useful to reduce\nthe number of bytes sent \"over the wire\".\n\nAll wanted location properties have to be prefixed with `@`. For all available properties check [Location event](#location-event).\n\nTwo forms are supported:\n\n**jsonObject**\n\n```\nBackgroundGeolocation.configure({\n  postTemplate: {\n    lat: '@latitude',\n    lon: '@longitude',\n    foo: 'bar' // you can also add your own properties\n  }\n});\n```\n\n**jsonArray**\n```\nBackgroundGeolocation.configure({\n  postTemplate: ['@latitude', '@longitude', 'foo', 'bar']\n});\n```\n\nNote: Keep in mind that all locations (even a single one) will be sent as an array of object(s), when postTemplate is `jsonObject` and array of array(s) for `jsonArray`!\n\n### Android Headless Task (Experimental)\n\nA special task that gets executed when the app is terminated, but the plugin was configured to continue running in the background (option `stopOnTerminate: false`).\nIn this scenario the [Activity](https://developer.android.com/reference/android/app/Activity.html)\nwas killed by the system and all registered event listeners will not be triggered until the app is relaunched.\n\n**Note:** Prefer configuration options `url` and `syncUrl` over headless task. Use it sparingly!\n\n#### Task event\n| Parameter          | Type      | Description                                                            |\n|--------------------|-----------|------------------------------------------------------------------------|\n| `event.name`       | `String`  | Name of the event [ \"location\", \"stationary\", \"activity\" ]             |\n| `event.params`     | `Object`  | Event parameters. @see [Events](#events)                               |\n\nKeep in mind that the callback function lives in an isolated scope. Variables from a higher scope cannot be referenced!\n\nFollowing example requires [CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS) enabled backend server.\n\n```\nBackgroundGeolocation.headlessTask(function(event) {\n    if (event.name === 'location' ||\n      event.name === 'stationary') {\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', 'http://192.168.81.14:3000/headless');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.send(JSON.stringify(event.params));\n    }\n\n    return 'Processing event: ' + event.name; // will be logged\n});\n```\n\n### Example of backend server\n\n[Background-geolocation-server](https://github.com/mauron85/background-geolocation-server) is a backend server written in nodejs\nwith CORS - Cross-Origin Resource Sharing support.\nThere are instructions how to run it and simulate locations on Android, iOS Simulator and Genymotion.\n\n## Quirks\n\n### iOS\n\nOn iOS the plugin will execute your registered `.on('location', callbackFn)` callback function. You may manually POST the received ```Geolocation``` to your server using standard XHR. However for long running tasks, you need\nto wrap your code in `startTask` - `endTask` block.\n\n#### `stationaryRadius` (apply only for DISTANCE_FILTER_PROVIDER)\n\nThe plugin uses iOS Significant Changes API, and starts triggering ```callbackFn``` only when a cell-tower switch is detected (i.e. the device exits stationary radius). The function ```switchMode``` is provided to force the plugin to enter \"BACKGROUND\" stationary or \"FOREGROUND\" mode.\n\nPlugin cannot detect the exact moment the device moves out of the stationary-radius.  In normal conditions, it can take as much as 3 city-blocks to 1/2 km before stationary-region exit is detected.\n\n### Android\n\nOn Android devices it is recommended to have a notification in the drawer (option `startForeground:true`). This gives plugin location service higher priority, decreasing probability of OS killing it. Check [wiki](https://github.com/mauron85/cordova-plugin-background-geolocation/wiki/Android-implementation) for explanation.\n\n#### Custom ROMs\n\nPlugin should work with custom ROMS at least DISTANCE_FILTER_PROVIDER. But ACTIVITY_PROVIDER provider depends on Google Play Services.\nUsually ROMs don't include Google Play Services libraries. Strange bugs may occur, like no GPS locations (only from network and passive) and other. When posting issue report, please mention that you're using custom ROM.\n\n#### Multidex\n\n**Note:** Following section was kindly copied from [phonegap-plugin-push](https://github.com/phonegap/phonegap-plugin-push/blob/master/docs/INSTALLATION.md#multidex). Visit link for resolving issue with facebook plugin.\n\nIf you have an issue compiling the app and you're getting an error similar to this (`com.android.dex.DexException: Multiple dex files define`):\n\n```\nUNEXPECTED TOP-LEVEL EXCEPTION:\ncom.android.dex.DexException: Multiple dex files define Landroid/support/annotation/AnimRes;\n  at com.android.dx.merge.DexMerger.readSortableTypes(DexMerger.java:596)\n  at com.android.dx.merge.DexMerger.getSortedTypes(DexMerger.java:554)\n  at com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:535)\n  at com.android.dx.merge.DexMerger.mergeDexes(DexMerger.java:171)\n  at com.android.dx.merge.DexMerger.merge(DexMerger.java:189)\n  at com.android.dx.command.dexer.Main.mergeLibraryDexBuffers(Main.java:502)\n  at com.android.dx.command.dexer.Main.runMonoDex(Main.java:334)\n  at com.android.dx.command.dexer.Main.run(Main.java:277)\n  at com.android.dx.command.dexer.Main.main(Main.java:245)\n  at com.android.dx.command.Main.main(Main.java:106)\n```\n\nThen at least one other plugin you have installed is using an outdated way to declare dependencies such as `android-support` or `play-services-gcm`.\nThis causes gradle to fail, and you'll need to identify which plugin is causing it and request an update to the plugin author, so that it uses the proper way to declare dependencies for cordova.\nSee [this for the reference on the cordova plugin specification](https://cordova.apache.org/docs/en/5.4.0/plugin_ref/spec.html#link-18), it'll be usefull to mention it when creating an issue or requesting that plugin to be updated.\n\nCommon plugins to suffer from this outdated dependency management are plugins related to *facebook*, *google+*, *notifications*, *crosswalk* and *google maps*.\n\n#### Android Permissions\n\nAndroid 6.0 \"Marshmallow\" introduced a new permissions model where the user can turn on and off permissions as necessary. When user disallow location access permissions, error configure callback will be called with error code: 2.\n\n\n#### Notification icons\n\n**Note:** Only available for API Level >=21.\n\nTo use custom notification icons, you need to put icons into *res/drawable* directory **of your app**. You can automate the process  as part of **after_platform_add** hook configured via [config.xml](https://github.com/mauron85/cordova-plugin-background-geolocation-example/blob/master/config.xml). Check [config.xml](https://github.com/mauron85/cordova-plugin-background-geolocation-example/blob/master/config.xml) and [scripts/res_android.js](https://github.com/mauron85/cordova-plugin-background-geolocation-example/blob/master/scripts/res_android.js) of example app for reference.\n\nIf you only want a single large icon, set `notificationIconLarge` to null and include your icon's filename in the `notificationIconSmall` parameter.\n\nWith Adobe® PhoneGap™ Build icons must be placed into ```locales/android/drawable``` dir at the root of your project. For more information go to [how-to-add-native-image-with-phonegap-build](http://stackoverflow.com/questions/30802589/how-to-add-native-image-with-phonegap-build/33221780#33221780).\n\n### Intel XDK\n\nPlugin will not work in XDK emulator ('Unimplemented API Emulation: BackgroundGeolocation.start' in emulator). But will work on real device.\n\n## Debugging\n\nSee [DEBUGGING.md](/DEBUGGING.md)\n\n## Geofencing\nThere is nice cordova plugin [cordova-plugin-geofence](https://github.com/cowbell/cordova-plugin-geofence), which does exactly that. Let's keep this plugin lightweight as much as possible.\n\n## Changelog\n\nSee [CHANGES.md](/CHANGES.md)\n\n## Licence ##\n\n[Apache License](http://www.apache.org/licenses/LICENSE-2.0)\n\nCopyright (c) 2013 Christopher Scott, Transistor Software\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/mauron85/cordova-plugin-background-geolocation.git"
  },
  "types": "./www/BackgroundGeolocation.d.ts",
  "version": "3.0.3"
}
